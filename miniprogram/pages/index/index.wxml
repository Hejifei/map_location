<!--index.wxml-->
<view class="container">
    <map
    markers
        class="map"
        id="map"
        latitude="{{location.latitude}}"
        longitude="{{location.longitude}}"
        scale='16'
        markers="{{isRegionChanged ? markers : []}}"
        bindregionchange="onChangeRegion"
        bindpoitap="onTapPoi"
        show-location="{{showPosition}}"
        bindmarkertap="reverseLatLonToAddress"
        bindcallouttap="reverseLatLonToAddress"
    > 
    </map>
    <view class="loginWrapper" wx:if="isLocationPersionAllowed">
        <van-button
            class="button"
            type="primary"
            bindtap="onLoginBtnTap"
            wx:if="{{!isLoginedIn}}"
        >
            登录
        </van-button>
        <van-button
            class="button"
            type="primary"
            bindtap="onMarkAddBtnTap"
            wx:else
        >
            标点记录
        </van-button>
    </view>
</view>
